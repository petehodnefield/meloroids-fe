{"ast":null,"code":"var _jsxFileName = \"/Users/petehodnefield/Documents/coding-projects-personal/melody-trainer/client/src/pages/SignUp/index.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useMutation } from \"@apollo/client\";\nimport Auth from \"../../utils/auth\";\nimport { CREATE_USER } from \"../../utils/mutations\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SignUp = () => {\n  _s();\n  const [formPwMatch, setFormPwMatch] = useState(\"\");\n  const [formEmailMatch, setFormEmailMatch] = useState(\"\");\n  const [formState, setFormState] = useState({\n    username: \"\",\n    email: \"\",\n    emailConfirm: \"\",\n    password: \"\",\n    passwordConfirm: \"\"\n  });\n  useEffect(() => {\n    if (formState.password !== formState.passwordConfirm) {\n      setFormPwMatch(\"The passwords do not match\");\n    } else {\n      setFormPwMatch(\"\");\n    }\n    if (formState.email !== formState.emailConfirm) {\n      setFormEmailMatch(\"The emails do not match\");\n    } else {\n      setFormEmailMatch(\"\");\n    }\n  }, [formState]);\n  console.log(formState);\n  const handleChange = async event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setFormState({\n      ...formState,\n      [name]: value\n    });\n  };\n  const [createUser, {\n    error\n  }] = useMutation(CREATE_USER);\n  const handleFormSubmit = async event => {\n    event.preventDefault();\n    try {\n      if (formState.password !== formState.passwordConfirm || formState.email !== formState.emailConfirm) {\n        alert(\"doesnt match\");\n      } else {\n        const {\n          data\n        } = await createUser({\n          variables: {\n            ...formState\n          }\n        });\n        Auth.login(data.createUser.token);\n      }\n    } catch (e) {\n      console.error(e.graphQLErrors);\n      console.error(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-form-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"form__header\",\n      children: \"Signup\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      id: \"signup-form\",\n      className: \"form\",\n      onSubmit: handleFormSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input__wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"p3 form__label\",\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          required: true,\n          name: \"username\",\n          className: \"form__input\",\n          type: \"username\",\n          maxLength: \"20\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input__wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"p3 form__label\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          required: true,\n          name: \"email\",\n          className: \"form__input \",\n          type: \"email\",\n          maxLength: \"30\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input__wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"p3 form__label\",\n          children: \"Confirm Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          required: true,\n          name: \"emailConfirm\",\n          className: \"form__input \",\n          type: \"email\",\n          maxLength: \"30\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), formEmailMatch]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input__wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"p3 form__label\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          required: true,\n          name: \"password\",\n          className: \"form__input \",\n          type: \"password\",\n          maxLength: \"20\",\n          minLength: \"8\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input__wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"p3 form__label\",\n          children: \"Confirm Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          required: true,\n          name: \"passwordConfirm\",\n          className: \"form__input \",\n          type: \"password\",\n          minLength: \"8\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), formPwMatch]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"p2 form__text\",\n        children: [\"Already have an account?\", /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"form__loginLink\",\n          href: \"/login\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-form btn-tertiary\",\n        children: \"Create Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(SignUp, \"EFvpOC1JiW0J7ZT3zMOr0EYC6tY=\", false, function () {\n  return [useMutation];\n});\n_c = SignUp;\nexport default SignUp;\nvar _c;\n$RefreshReg$(_c, \"SignUp\");","map":{"version":3,"names":["React","useState","useEffect","useMutation","Auth","CREATE_USER","SignUp","formPwMatch","setFormPwMatch","formEmailMatch","setFormEmailMatch","formState","setFormState","username","email","emailConfirm","password","passwordConfirm","console","log","handleChange","event","name","value","target","createUser","error","handleFormSubmit","preventDefault","alert","data","variables","login","token","e","graphQLErrors"],"sources":["/Users/petehodnefield/Documents/coding-projects-personal/melody-trainer/client/src/pages/SignUp/index.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useMutation } from \"@apollo/client\";\nimport Auth from \"../../utils/auth\";\nimport { CREATE_USER } from \"../../utils/mutations\";\n\nconst SignUp = () => {\n  const [formPwMatch, setFormPwMatch] = useState(\"\");\n  const [formEmailMatch, setFormEmailMatch] = useState(\"\");\n  const [formState, setFormState] = useState({\n    username: \"\",\n    email: \"\",\n    emailConfirm: \"\",\n    password: \"\",\n    passwordConfirm: \"\",\n  });\n  useEffect(() => {\n    if (formState.password !== formState.passwordConfirm) {\n      setFormPwMatch(\"The passwords do not match\");\n    } else {\n      setFormPwMatch(\"\");\n    }\n    if (formState.email !== formState.emailConfirm) {\n      setFormEmailMatch(\"The emails do not match\");\n    } else {\n      setFormEmailMatch(\"\");\n    }\n  }, [formState]);\n  console.log(formState);\n  const handleChange = async (event) => {\n    const { name, value } = event.target;\n    setFormState({ ...formState, [name]: value });\n  };\n\n  const [createUser, { error }] = useMutation(CREATE_USER);\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      if (\n        formState.password !== formState.passwordConfirm ||\n        formState.email !== formState.emailConfirm\n      ) {\n        alert(\"doesnt match\");\n      } else {\n        const { data } = await createUser({\n          variables: { ...formState },\n        });\n        Auth.login(data.createUser.token);\n      }\n    } catch (e) {\n      console.error(e.graphQLErrors);\n      console.error(error);\n    }\n  };\n  return (\n    <div className=\"login-form-wrapper\">\n      <h4 className=\"form__header\">Signup</h4>\n      <form id=\"signup-form\" className=\"form\" onSubmit={handleFormSubmit}>\n        <div className=\"input__wrapper\">\n          <label className=\"p3 form__label\">Username</label>\n          <input\n            required\n            name=\"username\"\n            className=\"form__input\"\n            type=\"username\"\n            maxLength=\"20\"\n            onChange={handleChange}\n          ></input>\n        </div>\n        <div className=\"input__wrapper\">\n          <label className=\"p3 form__label\">Email</label>\n          <input\n            required\n            name=\"email\"\n            className=\"form__input \"\n            type=\"email\"\n            maxLength=\"30\"\n            onChange={handleChange}\n          ></input>\n        </div>\n        <div className=\"input__wrapper\">\n          <label className=\"p3 form__label\">Confirm Email</label>\n          <input\n            required\n            name=\"emailConfirm\"\n            className=\"form__input \"\n            type=\"email\"\n            maxLength=\"30\"\n            onChange={handleChange}\n          ></input>\n          {formEmailMatch}\n        </div>\n\n        <div className=\"input__wrapper\">\n          <label className=\"p3 form__label\">Password</label>\n          <input\n            required\n            name=\"password\"\n            className=\"form__input \"\n            type=\"password\"\n            maxLength=\"20\"\n            minLength=\"8\"\n            onChange={handleChange}\n          ></input>\n        </div>\n        <div className=\"input__wrapper\">\n          <label className=\"p3 form__label\">Confirm Password</label>\n          <input\n            required\n            name=\"passwordConfirm\"\n            className=\"form__input \"\n            type=\"password\"\n            minLength=\"8\"\n            onChange={handleChange}\n          ></input>\n          {formPwMatch}\n        </div>\n        <p className=\"p2 form__text\">\n          Already have an account?\n          <a className=\"form__loginLink\" href=\"/login\">\n            Login\n          </a>\n        </p>\n        <button type=\"submit\" className=\"btn btn-form btn-tertiary\">\n          Create Account\n        </button>\n      </form>{\" \"}\n    </div>\n  );\n};\n\nexport default SignUp;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}